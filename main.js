(()=>{"use strict";document.querySelector(".popup-edit"),document.querySelector(".popup-add"),document.querySelector(".popup-photo");var e=document.querySelector(".edit-form"),t=document.querySelector(".add-form"),n=document.querySelector(".update-avatar-form"),r=document.querySelector(".popup__item_el_title"),o=document.querySelector(".popup__item_el_subtitle"),i=document.querySelector(".profile__edit-button"),a=document.querySelector(".profile__add-button"),c=document.querySelector(".profile__edit-avatar"),u=(document.querySelector(".places"),{inputElement:".popup__item",submitButtonSelector:".popup__button_type_save",inactiveButtonClass:"popup__button_type_disabled",inputErrorClass:"popup__item_type_wrong",spanErrorClass:"popup__span-error_active"});function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var l=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._formElement=n,this._inputList=Array.from(this._formElement.querySelectorAll(t.inputElement)),this._submitButtonSelector=t.submitButtonSelector,this._inactiveButtonClass=t.inactiveButtonClass,this._inputErrorClass=t.inputErrorClass,this._spanErrorClass=t.spanErrorClass}var t,n;return t=e,(n=[{key:"_hasInvalidInput",value:function(){return this._inputList.some((function(e){return!e.validity.valid}))}},{key:"_showError",value:function(e){var t=this._formElement.querySelector(".".concat(e.id,"-error"));e.classList.add(this._inputErrorClass),t.classList.add(this._spanErrorClass),t.textContent=e.validationMessage}},{key:"_hideError",value:function(e){var t=this._formElement.querySelector(".".concat(e.id,"-error"));e.classList.remove(this._inputErrorClass),t.classList.remove(this._spanErrorClass),t.textContent=""}},{key:"_checkInputValidity",value:function(e){e.validity.valid?this._hideError(e):this._showError(e)}},{key:"_toggleButton",value:function(){var e=this._formElement.querySelector(this._submitButtonSelector);this._hasInvalidInput()?(e.classList.add(this._inactiveButtonClass),e.setAttribute("disabled","disabled")):(e.classList.remove(this._inactiveButtonClass),e.removeAttribute("disabled"))}},{key:"_setEventListeners",value:function(){var e=this;this._inputList.forEach((function(t){t.addEventListener("input",(function(t){e._checkInputValidity(t.target),e._toggleButton(t.target)}))}))}},{key:"enableValidation",value:function(){this._setEventListeners()}},{key:"resetValidation",value:function(){var e=this;this._toggleButton(),this._inputList.forEach((function(t){e._hideError(t)}))}}])&&s(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var p=function(){function e(t,n){var r=t.card,o=t.handleCardClick,i=t.handleLikeClick,a=t.handleDeleteClick;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._name=r.name,this._link=r.link,this._likes=r.likes,this._handleCardClick=o,this._handleLikeClick=i,this._handleDeleteClick=a,this._templateSelector=n,this._ownerId=r.owner._id,this.id=r._id}var t,n;return t=e,(n=[{key:"_getCardElement",value:function(){this._cardElement=document.querySelector(this._templateSelector).content.querySelector(".place").cloneNode(!0),this._buttonLike=this._cardElement.querySelector(".place__button-like")}},{key:"_renderCard",value:function(e){this._getCardElement(),this.isLiked(e)&&this.setLike();var t=this._cardElement.querySelector(".place__image");t.src=this._link,t.alt=this._name,this._cardElement.querySelector(".place__text").textContent=this._name,this._likeCounter=this._cardElement.querySelector(".place__like-counter"),this._likeCounter.textContent=this._likes.length}},{key:"_setEventListener",value:function(){var e=this;this._buttonLike.addEventListener("click",(function(t){e._handleLikeClick(t)})),this._cardElement.querySelector(".place__button-delete").addEventListener("click",(function(t){e._handleDeleteClick(t.target)})),this._cardElement.querySelector(".place__image").addEventListener("click",(function(){e._handleCardClick(e._link,e._name)}))}},{key:"setLike",value:function(){this._buttonLike.classList.add("place__button-like_active")}},{key:"removeLike",value:function(){this._buttonLike.classList.remove("place__button-like_active")}},{key:"isLiked",value:function(e){var t=!1;return this._likes.some((function(n){return t=n._id===e})),t}},{key:"renewLikeCounter",value:function(e){this._likes=e,this._likeCounter.textContent=e.length}},{key:"deleteCard",value:function(){this._cardElement.remove()}},{key:"createCard",value:function(e){return this._renderCard(e),this._setEventListener(),e!=this._ownerId&&this._cardElement.querySelector(".place__button-delete").remove(),this._cardElement}}])&&f(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var d=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._container=document.querySelector(n),this._renderer=t}var t,n;return t=e,n=[{key:"addItem",value:function(e){this._container.append(e)}},{key:"renderNewElement",value:function(e){this._container.prepend(e)}},{key:"renderItems",value:function(e){var t=this;e.forEach((function(e){t._renderer(e)}))}}],n&&h(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var _=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._selector=t,this._popup=document.querySelector(this._selector),this._handleEscListener=function(e){"Escape"===e.key&&this.close()},this._handleEscListener=this._handleEscListener.bind(this)}var t,n;return t=e,(n=[{key:"open",value:function(){this._popup.classList.add("popup_opened"),document.addEventListener("keydown",this._handleEscListener)}},{key:"close",value:function(){this._popup.classList.remove("popup_opened"),document.removeEventListener("keydown",this._handleEscListener)}},{key:"setEventListeners",value:function(){var e=this;this._popup.addEventListener("mousedown",(function(t){(t.target.classList.contains("popup_opened")||t.target.classList.contains("popup__button_type_exit"))&&e.close()}))}}])&&y(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function v(e){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v(e)}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(){return m="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=k(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},m.apply(this,arguments)}function k(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=g(e)););return e}function w(e,t){return w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},w(e,t)}function E(e,t){if(t&&("object"===v(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function g(e){return g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},g(e)}var L=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&w(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=g(r);if(o){var n=g(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return E(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e))._imageLink=t._popup.querySelector(".popup__image"),t._caprion=t._popup.querySelector(".popup__caption"),t}return t=a,(n=[{key:"open",value:function(e,t){m(g(a.prototype),"open",this).call(this),this._imageLink.src=e,this._imageLink.alt=t,this._caprion.textContent=t}}])&&b(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(_);function C(e){return C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},C(e)}function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function O(){return O="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=j(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},O.apply(this,arguments)}function j(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=R(e)););return e}function P(e,t){return P=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},P(e,t)}function q(e,t){if(t&&("object"===C(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function R(e){return R=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},R(e)}var I=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&P(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=R(r);if(o){var n=R(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return q(this,e)});function a(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=i.call(this,t))._handleSubmitForm=e,n._inputs=Array.from(n._popup.querySelectorAll(".popup__item")),n._form=n._popup.querySelector(".popup__wrapper"),n}return t=a,(n=[{key:"_getInputValues",value:function(){var e=this;return this._formValues={},this._inputs.forEach((function(t){e._formValues[t.name]=t.value})),this._formValues}},{key:"close",value:function(){O(R(a.prototype),"close",this).call(this),this._form.reset()}},{key:"setEventListeners",value:function(){var e=this;O(R(a.prototype),"setEventListeners",this).call(this),this._popup.addEventListener("submit",(function(t){e._handleSubmitForm(t,e._getInputValues())}))}}])&&S(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(_);function U(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var T=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._name=document.querySelector(t),this._about=document.querySelector(n),this._avatar=document.querySelector(r)}var t,n;return t=e,(n=[{key:"getUserInfo",value:function(){return this._user={name:this._name.textContent,about:this._about.textContent},this._user}},{key:"setUserInfo",value:function(e){var t=e.name,n=e.about,r=e.id;this._name.textContent=t,this._about.textContent=n,this.id=r}},{key:"setUserAvatar",value:function(e){this._avatar.src=e}}])&&U(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function x(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var D=function(){function e(t,n){var r=n.headers;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.baseUrl=t,this.headers=r}var t,n;return t=e,(n=[{key:"_checkRes",value:function(e){return e.ok?e.json():Promise.reject("Ошибка: ".concat(e.status))}},{key:"getCards",value:function(){var e=this;return fetch("".concat(this.baseUrl,"/cards"),{headers:this.headers}).then((function(t){return e._checkRes(t)}))}},{key:"getUserData",value:function(){var e=this;return fetch("".concat(this.baseUrl,"/users/me"),{headers:this.headers}).then((function(t){return e._checkRes(t)}))}},{key:"postUserData",value:function(e,t){var n=this;return fetch("".concat(this.baseUrl,"/users/me"),{headers:this.headers,method:"PATCH",body:JSON.stringify({name:e,about:t})}).then((function(e){return n._checkRes(e)}))}},{key:"postUserPhoto",value:function(e){var t=this;return fetch("".concat(this.baseUrl,"/users/me/avatar"),{headers:this.headers,method:"PATCH",body:JSON.stringify({avatar:e})}).then((function(e){return t._checkRes(e)}))}},{key:"postCard",value:function(e,t){var n=this;return fetch("".concat(this.baseUrl,"/cards"),{headers:this.headers,method:"POST",body:JSON.stringify({name:e,link:t})}).then((function(e){return n._checkRes(e)}))}},{key:"putLike",value:function(e){var t=this;return fetch("".concat(this.baseUrl,"/cards/").concat(e,"/likes"),{headers:this.headers,method:"PUT"}).then((function(e){return t._checkRes(e)}))}},{key:"deleteLike",value:function(e){var t=this;return fetch("".concat(this.baseUrl,"/cards/").concat(e,"/likes"),{headers:this.headers,method:"DELETE"}).then((function(e){return t._checkRes(e)}))}},{key:"deleteCard",value:function(e){var t=this;return fetch("".concat(this.baseUrl,"/cards/").concat(e),{method:"DELETE",headers:this.headers}).then((function(e){return t._checkRes(e)}))}}])&&x(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function B(e){return B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},B(e)}function A(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function V(){return V="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=N(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},V.apply(this,arguments)}function N(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=H(e)););return e}function F(e,t){return F=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},F(e,t)}function J(e,t){if(t&&("object"===B(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function H(e){return H=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},H(e)}var M=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&F(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=H(r);if(o){var n=H(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return J(this,e)});function a(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=i.call(this,t))._handleSubmitForm=e,n.button=document.querySelector(".popup-confirm__save"),n}return t=a,(n=[{key:"open",value:function(){this.button.textContent="Да",V(H(a.prototype),"open",this).call(this)}},{key:"setEventListeners",value:function(){var e=this;V(H(a.prototype),"setEventListeners",this).call(this),this._popup.addEventListener("submit",(function(t){e._handleSubmitForm(t,e._id,e._target)}))}},{key:"setId",value:function(e){this._id=e.id,this.currentCard=e}}])&&A(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(_);function z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var $=new D("https://mesto.nomoreparties.co/v1/cohort-41",{headers:{authorization:"420a86b4-7133-4ca0-90cf-bb2cdda2a90c","Content-Type":"application/json"}}),G=new T(".profile__title",".profile__subtitle",".profile__avatar");function K(e,t){document.querySelector(e).textContent=t?"Сохранение...":"Сохранить"}function Q(e,t){var n=document.querySelector(e);t?n.classList.add("content-loader_visible"):n.classList.remove("content-loader_visible")}function W(e,t){var n=document.querySelector(e);t?n.classList.add("content_visible"):n.classList.remove("content_visible")}var X=new d((function(e){var t=Z(e);X.addItem(t)}),".places");Q(".content-loader",!0),W(".content",!1),Promise.all([$.getUserData(),$.getCards()]).then((function(e){var t,n,r=(n=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){c=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}}(t,n)||function(e,t){if(e){if("string"==typeof e)return z(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?z(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=r[0],i=r[1];G.setUserInfo({name:o.name,about:o.about,id:o._id}),G.setUserAvatar(o.avatar),X.renderItems(i)})).catch((function(e){console.log("Что-то не так. ".concat(e))})).finally((function(){Q(".content-loader",!1),W(".content",!0)}));var Y=new M((function(e,t){e.preventDefault(),K(".popup-confirm__save",!0),$.deleteCard(t).then((function(){Y.currentCard.deleteCard(),Y.close()})).catch((function(e){console.log("Что-то не так. ".concat(e))})).finally((function(){K(".popup-confirm__save",!1)}))}),".popup-confirm");function Z(e){var t=new p({card:e,handleCardClick:function(e,t){re.open(e,t)},handleLikeClick:function(){t.isLiked(G.id)?$.deleteLike(t.id).then((function(e){t.removeLike(),t.renewLikeCounter(e.likes)})).catch((function(e){return console.log("Что-то не так. ".concat(e))})):$.putLike(t.id).then((function(e){t.setLike(),t.renewLikeCounter(e.likes)})).catch((function(e){return console.log("Что-то не так. ".concat(e))}))},handleDeleteClick:function(){Y.setId(t),Y.open()}},".card_template");return t.createCard(G.id)}Y.setEventListeners();var ee=new I((function(e,t){e.preventDefault(),K(".popup-edit__save",!0);var n={name:t.popup_title,about:t.popup_sutitle};$.postUserData(n.name,n.about).then((function(){G.setUserInfo(n),ee.close()})).catch((function(e){return console.log("Что-то не так. ".concat(e))})).finally((function(){Q(".popup-edit__save",!1)}))}),".popup-edit");ee.setEventListeners(),i.addEventListener("click",(function(){var e=G.getUserInfo(),t=e.name,n=e.about;r.value=t,o.value=n,K(".popup-edit__save",!1),ee.open()}));var te=new I((function(e,t){e.preventDefault(),K(".popup-add__save",!0);var n={name:t.popup_title,link:t.popup_sutitle,likes:[],owner:{_id:G.id},id:""};$.postCard(n.name,n.link).then((function(e){var t=Z(e);X.renderNewElement(t),te.close()})).catch((function(e){return console.log("Что-то не так. ".concat(e))})).finally((function(){K(".popup-add__save",!1)}))}),".popup-add");te.setEventListeners(),a.addEventListener("click",(function(){oe.resetValidation(),te.open()}));var ne=new I((function(e,t){e.preventDefault(),K(".update-avatar-form__save",!0);var n=t.inputAvatarLink;$.postUserPhoto(n).then((function(){document.querySelector(".profile__avatar").src=n,ne.close()})).catch((function(e){return console.log("Что-то не так. ".concat(e))})).finally((function(){K(".update-avatar-form__save",!1)}))}),".popup-update-avatar");ne.setEventListeners(),c.addEventListener("click",(function(){ie.resetValidation(),ne.open()}));var re=new L(".popup-photo");re.setEventListeners();var oe=new l(u,t);oe.enableValidation(),new l(u,e).enableValidation();var ie=new l(u,n);ie.enableValidation()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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cmMvdXRpbHMvY29uc3RhbnRzLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvZm9ybVZhbGlkYXRvci5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL2NhcmQuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9zZWN0aW9uLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvcG9wdXAuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9wb3B1cFdpdGhJbWFnZS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL3BvcHVwV2l0aEZvcm0uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy91c2Vyc0luZm8uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9hcGkuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9wb3B1cFdpdGhDb25maXJtLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL3BhZ2VzL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCB7ZWRpdFBvcHVwLCBhZGRQb3B1cCwgcGhvdG9Qb3B1cCxcbiAgICAgICAgZWRpdEZvcm0sIGFkZEZvcm0sIGVkaXRBdmF0YXJGb3JtLCAgICAgICAgICAgICAgICAgIC8vINCf0L7Qv9Cw0L/RiyDQuCDRhNC+0YDQvNGLXG4gICAgICAgIGlucHV0VGl0bGUsIGlucHV0U3VidGl0bGUsICAgICAgICAgICAgICAgICAgICAgICAgICAvLyDQl9Cw0L/QvtC70L3QtdC90LjQtSDQv9C+0L/QsNC/0LAgZWRpdFBvcHVwXG4gICAgICAgIGVkaXRCdXR0b24sIGFkZEJ1dHRvbiwgZWRpdEF2YXRhckJ1dHRvbiwgICAgICAgICAgICAvLyDQmtC90L7Qv9C60Lgg0L7RgtC60YDRi9GC0LjRjyDQv9C+0L/QsNC/0L7QslxuICAgICAgICBwbGFjZXMsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8g0JrQvtC90YLQtdC50L3QtdGAINC00LvRjyDQutCw0YDRgtC+0YfQtdC6XG4gICAgICAgIGRhdGEsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyDQn9C10YDQtdC80LXQvdC90LDRjyBjINGB0LXQu9C10LrRgtC+0YDQsNC80LhcbiAgICAgIH1cblxuLy/Qn9C+0L/QsNC/0Ysg0Lgg0YTQvtGA0LzRi1xuY29uc3QgZWRpdFBvcHVwICA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cC1lZGl0Jyk7XG5jb25zdCBhZGRQb3B1cCAgID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwLWFkZCcpO1xuY29uc3QgcGhvdG9Qb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cC1waG90bycpXG5jb25zdCBlZGl0Rm9ybSAgID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmVkaXQtZm9ybScpO1xuY29uc3QgYWRkRm9ybSAgICA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5hZGQtZm9ybScpO1xuY29uc3QgZWRpdEF2YXRhckZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudXBkYXRlLWF2YXRhci1mb3JtJyk7XG5cbi8v0JfQsNC/0L7Qu9C90LXQvdC40LUg0L/QvtC/0LDQv9CwIGVkaXRQb3B1cFxuY29uc3QgaW5wdXRUaXRsZSAgICA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9faXRlbV9lbF90aXRsZScpO1xuY29uc3QgaW5wdXRTdWJ0aXRsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9faXRlbV9lbF9zdWJ0aXRsZScpO1xuXG4vL9Ca0L3QvtC/0LrQuCDQvtGC0LrRgNGL0YLQuNGPINC/0L7Qv9Cw0L/QvtCyXG5jb25zdCBlZGl0QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2VkaXQtYnV0dG9uJyk7XG5jb25zdCBhZGRCdXR0b24gID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2FkZC1idXR0b24nKTtcbmNvbnN0IGVkaXRBdmF0YXJCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fZWRpdC1hdmF0YXInKTtcblxuXG4vLyDQmtC+0L3RgtC10LnQvdC10YAg0LTQu9GPINC60LDRgNGC0L7Rh9C10LpcbmNvbnN0IHBsYWNlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wbGFjZXMnKTtcblxuLy/Qv9C10YDQtdC80LXQvdC90LDRjyDQsiDQutC+0YLQvtGA0L7QuSDRhdGA0LDQvdGP0YLRgdGPINC00LDQvdC90YvQtSDRgSDRgdC10LvQtdC60YLQvtGA0LDQvNC4INC00LvRjyDRgdC+0LfQtNCw0L3QuNGPINGN0LrQty7QutC70LDRgdGB0LAg0LLQsNC70LjQtNCw0YbQuNC4INGE0L7RgNC80YtcbmNvbnN0IGRhdGEgPSAge2lucHV0RWxlbWVudDogJy5wb3B1cF9faXRlbScsXG4gICAgICAgICAgICAgIHN1Ym1pdEJ1dHRvblNlbGVjdG9yOicucG9wdXBfX2J1dHRvbl90eXBlX3NhdmUnLFxuICAgICAgICAgICAgICBpbmFjdGl2ZUJ1dHRvbkNsYXNzOidwb3B1cF9fYnV0dG9uX3R5cGVfZGlzYWJsZWQnLFxuICAgICAgICAgICAgICBpbnB1dEVycm9yQ2xhc3M6ICdwb3B1cF9faXRlbV90eXBlX3dyb25nJyxcbiAgICAgICAgICAgICAgc3BhbkVycm9yQ2xhc3M6ICdwb3B1cF9fc3Bhbi1lcnJvcl9hY3RpdmUnfVxuXG4gICAgICAgICAgICAiLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBGb3JtVmFsaWRhdG9yIHtcbiAgY29uc3RydWN0b3IgKGRhdGEsIGZvcm1FbGVtZW50KSB7XG4gICAgdGhpcy5fZm9ybUVsZW1lbnQgICAgICAgICAgPSBmb3JtRWxlbWVudDtcbiAgICB0aGlzLl9pbnB1dExpc3QgICAgICAgICAgICA9IEFycmF5LmZyb20odGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvckFsbChkYXRhLmlucHV0RWxlbWVudCkpO1xuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvblNlbGVjdG9yID0gZGF0YS5zdWJtaXRCdXR0b25TZWxlY3RvcjtcbiAgICB0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzICA9IGRhdGEuaW5hY3RpdmVCdXR0b25DbGFzcztcbiAgICB0aGlzLl9pbnB1dEVycm9yQ2xhc3MgICAgICA9IGRhdGEuaW5wdXRFcnJvckNsYXNzO1xuICAgIHRoaXMuX3NwYW5FcnJvckNsYXNzICAgICAgID0gZGF0YS5zcGFuRXJyb3JDbGFzcztcbiAgfVxuXG4gICAvL9C/0YDQvtCy0LXRgNGP0LXQvCDQvdCw0LvQuNGH0LjQtSDQvdC10LLQtdGA0L3QviDQt9Cw0L/QvtC70L3QvdC10L3Ri9GFINC40L3Qv9GD0YLQvtCyXG4gIF9oYXNJbnZhbGlkSW5wdXQgKCkge1xuICAgIHJldHVybiB0aGlzLl9pbnB1dExpc3Quc29tZShmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICByZXR1cm4gIWl0ZW0udmFsaWRpdHkudmFsaWQ7XG4gICAgfSk7XG4gIH1cblxuXG4gICAvL9C80LXRgtC+0LQsINC60L7RgtC+0YDRi9C5INC/0L7QutCw0LfRi9Cy0LDQtdGCINC+0YjQuNCx0LrQuCDQsiDRhNC+0YDQvNCw0YVcbiAgX3Nob3dFcnJvciAoaW5wdXRFbGVtZW50KSAge1xuICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoYC4ke2lucHV0RWxlbWVudC5pZH0tZXJyb3JgKTtcblxuICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2lucHV0RXJyb3JDbGFzcyk7XG4gICAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5fc3BhbkVycm9yQ2xhc3MpO1xuICAgIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IGlucHV0RWxlbWVudC52YWxpZGF0aW9uTWVzc2FnZTtcbiAgfVxuXG4gIC8v0LzQtdGC0L7QtCwg0LrQvtGC0L7RgNGL0Lkg0YPQsdC40YDQsNC10YIg0L7RiNC40LHQutC4INCyINGE0L7RgNC80LDRhVxuICBfaGlkZUVycm9yIChpbnB1dEVsZW1lbnQpIHtcbiAgICBjb25zdCBlcnJvckVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKGAuJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYCk7XG4gICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faW5wdXRFcnJvckNsYXNzKTtcbiAgICBlcnJvckVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9zcGFuRXJyb3JDbGFzcyk7XG4gICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gJyc7XG5cbiAgfVxuXG4gIC8v0LzQtdGC0L7QtCDQv9GA0L7QstC10YDRj9GO0YnQuNC5INCy0LDQu9C40LTQvdC+0YHRgtGMINGE0L7RgNC80YtcbiAgX2NoZWNrSW5wdXRWYWxpZGl0eSAoaW5wdXRFbGVtZW50KSB7XG4gICAgaWYgKGlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZCkge1xuICAgICAgdGhpcy5faGlkZUVycm9yKGlucHV0RWxlbWVudCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX3Nob3dFcnJvcihpbnB1dEVsZW1lbnQpO1xuICAgIH1cbiAgfVxuXG4gIC8v0LzQtdGC0L7QtCDQv9C10YDQtdC60LvRjtGH0LXQvdC40Y8g0LTQvtGB0YLRg9C/0L3QvtGB0YLQuCDQutC90L7Qv9C60LhcbiAgX3RvZ2dsZUJ1dHRvbiAoKSB7XG4gICAgIGNvbnN0IGJ1dHRvbkVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKHRoaXMuX3N1Ym1pdEJ1dHRvblNlbGVjdG9yKTtcbiAgICBpZiAodGhpcy5faGFzSW52YWxpZElucHV0KCkpIHtcbiAgICAgIGJ1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcbiAgICAgIGJ1dHRvbkVsZW1lbnQuc2V0QXR0cmlidXRlKCdkaXNhYmxlZCcsICdkaXNhYmxlZCcpO1xuICAgIH0gZWxzZSB7XG4gICAgICBidXR0b25FbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyk7XG4gICAgICBidXR0b25FbGVtZW50LnJlbW92ZUF0dHJpYnV0ZSgnZGlzYWJsZWQnKTtcbiAgICB9XG4gIH1cblxuICAvL9C80LXRgtC+0LQg0L3QsNCy0LXRiNC40LLQsNC90LjRjyDRgdC70YPRiNCw0YLQtdC70LXQuSDQvdCwINCy0YHQtSDQuNC90L/Rg9GC0Ysg0LIg0YTQvtGA0LzQtVxuICBfc2V0RXZlbnRMaXN0ZW5lcnMgKCkge1xuICAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaChpdGVtID0+IHtcbiAgICAgIGl0ZW0uYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoZXZ0KSA9PiB7XG4gICAgICAgIHRoaXMuX2NoZWNrSW5wdXRWYWxpZGl0eShldnQudGFyZ2V0KTtcbiAgICAgICAgdGhpcy5fdG9nZ2xlQnV0dG9uKGV2dC50YXJnZXQpO1xuICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgLy/QvNC10YLQvtC0LCDQstC60LvRjtGH0LDRjtGJ0LDRjyDQstCw0LvQuNC00LDRhtC40Y4g0L3QsCDRhNC+0YDQvNC1XG4gIGVuYWJsZVZhbGlkYXRpb24gKCkge1xuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XG4gIH1cblxuICByZXNldFZhbGlkYXRpb24gKCkge1xuICAgIHRoaXMuX3RvZ2dsZUJ1dHRvbiAoKTtcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCAoaXRlbSA9PiB7XG4gICAgICB0aGlzLl9oaWRlRXJyb3IoaXRlbSk7XG4gICAgfSlcbiAgfVxufVxuXG5cbiIsIlxuIC8v0LrQu9Cw0YHRgSDQutCw0YDRgtC+0YfQtdC6XG4gZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2FyZCB7XG4gIGNvbnN0cnVjdG9yICh7Y2FyZCwgaGFuZGxlQ2FyZENsaWNrLCBoYW5kbGVMaWtlQ2xpY2ssIGhhbmRsZURlbGV0ZUNsaWNrfSwgdGVtcGxhdGVTZWxlY3Rvcikge1xuICAgICB0aGlzLl9uYW1lICAgICAgICAgICAgICA9IGNhcmQubmFtZTtcbiAgICAgdGhpcy5fbGluayAgICAgICAgICAgICAgPSBjYXJkLmxpbms7XG4gICAgIHRoaXMuX2xpa2VzICAgICAgICAgICAgID0gY2FyZC5saWtlcztcbiAgICAgdGhpcy5faGFuZGxlQ2FyZENsaWNrICAgPSBoYW5kbGVDYXJkQ2xpY2s7XG4gICAgIHRoaXMuX2hhbmRsZUxpa2VDbGljayAgID0gaGFuZGxlTGlrZUNsaWNrO1xuICAgICB0aGlzLl9oYW5kbGVEZWxldGVDbGljayA9IGhhbmRsZURlbGV0ZUNsaWNrO1xuICAgICB0aGlzLl90ZW1wbGF0ZVNlbGVjdG9yICA9IHRlbXBsYXRlU2VsZWN0b3I7XG4gICAgIHRoaXMuX293bmVySWQgICAgICAgICAgID0gY2FyZC5vd25lci5faWQ7XG4gICAgIHRoaXMuaWQgICAgICAgICAgICAgICAgID0gY2FyZC5faWQ7XG4gIH1cblxuIC8vINC80LXRgtC+0LQsINC60L7RgtC+0YDRi9C5INGB0L7Qt9C00LDQtdGCINC60LDRgNGC0L7Rh9C60YNcbiAgX2dldENhcmRFbGVtZW50ICgpIHtcbiAgICB0aGlzLl9jYXJkRWxlbWVudCA9ICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRoaXMuX3RlbXBsYXRlU2VsZWN0b3IpLmNvbnRlbnQucXVlcnlTZWxlY3RvcignLnBsYWNlJykuY2xvbmVOb2RlKHRydWUpO1xuICAgIHRoaXMuX2J1dHRvbkxpa2UgPSB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKCcucGxhY2VfX2J1dHRvbi1saWtlJyk7XG4gIH1cblxuICAgLy/QvNC10YLQvtC0LCDQutC+0YLQvtGA0YvQuSDQt9Cw0L/QvtC70L3Rj9C10YIg0LrQsNGA0YLQvtGH0LrRg1xuICBfcmVuZGVyQ2FyZCAoaWQpIHtcbiAgICB0aGlzLl9nZXRDYXJkRWxlbWVudCgpO1xuICAgIGlmICh0aGlzLmlzTGlrZWQoaWQpKSB7XG4gICAgICB0aGlzLnNldExpa2UoKTtcbiAgICB9IFxuICAgIGNvbnN0IGNhcmRJbWFnZSA9IHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wbGFjZV9faW1hZ2UnKTtcbiAgICBjYXJkSW1hZ2Uuc3JjICAgPSB0aGlzLl9saW5rO1xuICAgIGNhcmRJbWFnZS5hbHQgICA9IHRoaXMuX25hbWU7XG4gICAgdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcignLnBsYWNlX190ZXh0JykudGV4dENvbnRlbnQgPSB0aGlzLl9uYW1lO1xuICAgIHRoaXMuX2xpa2VDb3VudGVyID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcignLnBsYWNlX19saWtlLWNvdW50ZXInKTtcbiAgICB0aGlzLl9saWtlQ291bnRlci50ZXh0Q29udGVudCA9IHRoaXMuX2xpa2VzLmxlbmd0aDtcbiAgfVxuXG4gIC8vINC80LXRgtC+0LQsINC60L7RgtC+0YDRi9C5INC90LDQstC10YjQuNCy0LDQtdGCINCy0YHQtSDRgdC70YPRiNCw0YLQtdC70Lgg0L3QsCDQutCw0YDRgtC+0YfQutGDXG4gIF9zZXRFdmVudExpc3RlbmVyKCkge1xuICAgIC8vINGB0LvRg9GI0LDRgtC10LvRjCDQvdCwINC60L3QvtC/0LrRgy3RgdC10YDQtNC10YfQutC+XG4gICAgdGhpcy5fYnV0dG9uTGlrZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldnQpID0+IHtcbiAgICAgICAgdGhpcy5faGFuZGxlTGlrZUNsaWNrKGV2dCk7XG4gICAgfSk7XG5cbiAgICAvLyDRgdC70YPRiNCw0YLQtdC70Ywg0L3QsCDQutC90L7Qv9C60YMg0YPQtNCw0LvQtdC90LjRjyDRhNC+0YLQvlxuICAgIHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wbGFjZV9fYnV0dG9uLWRlbGV0ZScpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2dCkgPT4ge1xuICAgICAgdGhpcy5faGFuZGxlRGVsZXRlQ2xpY2soZXZ0LnRhcmdldCk7XG4gICAgfSk7XG5cbiAgICAvL9GB0LvRg9GI0LDRgtC10LvRjCDQvdCwINC+0YLQutGA0YvRgtC40LUg0YPQstC10LvQuNGH0LXQvdC90L7QuSDRhNC+0YLQvlxuICAgIHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wbGFjZV9faW1hZ2UnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIHRoaXMuX2hhbmRsZUNhcmRDbGljayh0aGlzLl9saW5rLCB0aGlzLl9uYW1lKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8vINC80LXRgtC+0LQsINC30LDQutGA0LDRiNC40LLQsNGO0YnQuNC5INGB0LXRgNC00LXRh9C60L5cbiAgc2V0TGlrZSAoKSB7XG4gICAgdGhpcy5fYnV0dG9uTGlrZS5jbGFzc0xpc3QuYWRkKCdwbGFjZV9fYnV0dG9uLWxpa2VfYWN0aXZlJyk7XG4gIH1cblxuICAvL9C80LXRgtC+0LQsINGD0LHQuNGA0LDRjtGJ0LjQuSDQt9Cw0LrRgNCw0YjQtdC90L3QvtC1INGB0LXRgNC00LXRh9C60L5cbiAgcmVtb3ZlTGlrZSAoKSB7XG4gICAgdGhpcy5fYnV0dG9uTGlrZS5jbGFzc0xpc3QucmVtb3ZlKCdwbGFjZV9fYnV0dG9uLWxpa2VfYWN0aXZlJyk7XG4gIH1cblxuICAvLyDQvNC10YLQvtC0LCDQutC+0YLQvtGA0YvQuSDQv9GA0L7QstC10YDRj9C10YIsINC70LDQudC60L3Rg9GC0LAg0LvQuCDQutCw0YDRgtC+0YfQutCwXG4gIGlzTGlrZWQgKGlkKSB7IFxuICAgIGxldCBoYXNMaWtlID0gZmFsc2U7ICAgIFxuICAgIHRoaXMuX2xpa2VzLnNvbWUoaXRlbSA9PiB7IFxuICAgICAgaWYgKGl0ZW0uX2lkID09PSBpZCkge1xuICAgICAgICByZXR1cm4gaGFzTGlrZSA9IHRydWV9IFxuICAgICAgZWxzZSByZXR1cm4gaGFzTGlrZSA9IGZhbHNlO1xuICAgICAgfSk7XG4gICAgcmV0dXJuIGhhc0xpa2U7XG4gICAgfVxuXG4gIC8vINC80LXRgtC+0LQsINC60L7RgtC+0YDRi9C5INC+0LHQvdC+0LLQu9GP0LXRgiDQutC+0LvQuNGH0LXRgdGC0LLQviDQu9Cw0LnQutC+0LJcbiAgcmVuZXdMaWtlQ291bnRlciAoY291bnRlcikge1xuICAgIHRoaXMuX2xpa2VzID0gY291bnRlcjtcbiAgICB0aGlzLl9saWtlQ291bnRlci50ZXh0Q29udGVudCA9IGNvdW50ZXIubGVuZ3RoO1xuICB9XG5cbiAgLy/QvNC10YLQvtC0LCDQutC+0YLQvtGA0YvQuSDRg9C00LDQu9GP0LXRgiDQutCw0YDRgtC+0YfQutGDINC40Lcg0LLQtdGA0YHRgtC60LhcbiAgZGVsZXRlQ2FyZCAoKSB7XG4gICAgdGhpcy5fY2FyZEVsZW1lbnQucmVtb3ZlKCk7XG4gIH0gIFxuXG5cbiAgLy/QvNC10YLQvtC0LCDQutC+0YLQvtGA0YvQuSDQstC+0LfQstGA0LDRidCw0LXRgiDQs9C+0YLQvtCy0YPRjiDQutCw0YDRgtC+0YfQutGDIFxuICBjcmVhdGVDYXJkIChpZCkge1xuICAgIHRoaXMuX3JlbmRlckNhcmQoaWQpO1xuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXIoKTtcbiAgLy/Qv9GA0L7QstC10YDRj9C10LwsINC/0YDQuNC90LDQtNC70LXQttC40YIg0LvQuCDQutCw0YDRgtC+0YfQutCwINC/0L7Qu9GM0LfQvtCy0LDRgtC10LvRjiwg0LXRgdC70Lgg0L3QtdGCLCDRg9Cx0LjRgNCw0LXQvCDRgSDQutCw0YDRgtC+0YfQutC4INC60L3QvtC/0LrRgyDRg9C00LDQu9C10L3QuNGPINC60LDRgNGC0L7Rh9C60LhcbiAgICBpZiAoaWQgIT0gdGhpcy5fb3duZXJJZCkge1xuICAgICAgdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcignLnBsYWNlX19idXR0b24tZGVsZXRlJykucmVtb3ZlKCk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLl9jYXJkRWxlbWVudDtcbiAgfVxuXG59XG4iLCJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNlY3Rpb24ge1xuICBjb25zdHJ1Y3RvciAocmVuZGVyZXIsIGNvbnRhaW5lclNlbGVjdG9yKSB7XG4gICAgdGhpcy5fY29udGFpbmVyICAgICA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY29udGFpbmVyU2VsZWN0b3IpO1xuICAgIHRoaXMuX3JlbmRlcmVyICAgICAgPSByZW5kZXJlcjtcbiAgfVxuLy/QvNC10YLQvtC0LCDQutC+0YLQvtGA0YvQuSDQvtGC0LLQtdGH0LDQtdGCINC30LAg0LTQvtCx0LDQstC70LXQvdC40LUgMSDRjdC70LXQvNC10L3RgtCwINCyINC60L7QvdGC0LXQudC90LXRgFxuICBhZGRJdGVtIChlbGVtZW50KSB7XG4gICAgdGhpcy5fY29udGFpbmVyLmFwcGVuZChlbGVtZW50KTtcbiAgfVxuXG4gIC8v0LzQtdGC0L7QtCwg0LrQvtGC0L7RgNGL0Lkg0L7RgtCy0LXRh9Cw0LXRgiDQt9CwINC00L7QsdCw0LLQu9C10L3QuNC1IDEg0Y3Qu9C10LzQtdC90YLQsCDQsiDQvdCw0YfQsNC70L4g0LrQvtC90YLQtdC50L3QtdGA0LBcbiAgcmVuZGVyTmV3RWxlbWVudCAoZWxlbWVudCkge1xuICAgIHRoaXMuX2NvbnRhaW5lci5wcmVwZW5kKGVsZW1lbnQpO1xuICB9XG4gIFxuLy8g0LzQtdGC0L7QtCwg0LrQvtGC0L7RgNGL0Lkg0L7RgtCy0LXRh9Cw0LXRgiDQt9CwINC+0YLRgNC40YHQvtCy0LrRgyDQstGB0LXRhSDRjdC70LXQvNC10L3RgtC+0LJcbiAgcmVuZGVySXRlbXMoZGF0YSkge1xuICAgIGRhdGEuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgICAgdGhpcy5fcmVuZGVyZXIoaXRlbSk7XG4gICAgfSk7XG4gIH1cbn1cblxuXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcbiAgICB0aGlzLl9zZWxlY3RvciA9IHBvcHVwU2VsZWN0b3I7XG4gICAgdGhpcy5fcG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRoaXMuX3NlbGVjdG9yKTtcbiAgICB0aGlzLl9oYW5kbGVFc2NMaXN0ZW5lciA9IGZ1bmN0aW9uIChldnQpIHtcbiAgICAgIGlmIChldnQua2V5ID09PSBcIkVzY2FwZVwiKSB7XG4gICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5faGFuZGxlRXNjTGlzdGVuZXIgPSB0aGlzLl9oYW5kbGVFc2NMaXN0ZW5lci5iaW5kKHRoaXMpO1xuICB9XG5cbi8v0LzQtdGC0L7QtCDQvtC/0LjRgdGL0LLQsNGO0YnQuNC5INC+0YLQutGA0YvRgtC40LUg0L/QvtC/0LDQv9CwXG4gIG9wZW4gKCkge1xuICAgIHRoaXMuX3BvcHVwLmNsYXNzTGlzdC5hZGQoJ3BvcHVwX29wZW5lZCcpO1xuICAgLy8g0L3QsNCy0LXRiNC40LLQsNC10Lwg0YHQu9GD0YjQsNGC0LXQu9GMINC90LAg0LfQsNC60YDRi9GC0LjQtSDQv9C+IGVzY1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLHRoaXMuX2hhbmRsZUVzY0xpc3RlbmVyKTtcbiAgfVxuXG4vL9C80LXRgtC+0LQg0L7Qv9C40YHRi9Cy0LDRjtGJ0LjQuSDQt9Cw0LrRgNGL0YLQuNC1INC/0L7Qv9Cw0L/QsFxuICBjbG9zZSAoKSB7XG4gICAgdGhpcy5fcG9wdXAuY2xhc3NMaXN0LnJlbW92ZSgncG9wdXBfb3BlbmVkJyk7XG4gICAgLy8g0YPQsdC40YDQsNC10Lwg0YHQu9GD0YjQsNGC0LXQu9GMINC90LAg0LfQsNC60YDRi9GC0LjQtSDQv9C+IGVzY1xuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVFc2NMaXN0ZW5lcik7XG4gIH1cblxuLy/QvNC10YLQvtC0INC90LDQstC10YjQuNCy0LDRjtGJ0LjQuSDRgdC70YPRiNCw0YLQtdC70LhcbiAgc2V0RXZlbnRMaXN0ZW5lcnMgKCkge1xuICAgLy8g0LfQsNC60YDRi9GC0LjQtSDQv9C+INC60LvQuNC60YMg0LzRi9GI0LrQuCDQvdCwINGC0LXQvNC90YPRjiDQvtCx0LvQsNGB0YLRjCDQuNC70Lgg0LrRgNC10YHRgtC40LpcbiAgIHRoaXMuX3BvcHVwLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIGV2dCA9PiB7XG4gICAgICBpZiAoZXZ0LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ3BvcHVwX29wZW5lZCcpIHx8IGV2dC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdwb3B1cF9fYnV0dG9uX3R5cGVfZXhpdCcpKSB7XG4gICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufVxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL3BvcHVwLmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEltYWdlIGV4dGVuZHMgUG9wdXAge1xuICBjb25zdHJ1Y3RvciAoc2VsZWN0b3IpIHtcbiAgICBzdXBlciAoc2VsZWN0b3IpO1xuICAgIHRoaXMuX2ltYWdlTGluayAgID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX19pbWFnZScpO1xuICAgIHRoaXMuX2NhcHJpb24gPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2NhcHRpb24nKTtcbiAgfVxuXG4gIC8vINC80LXRgtC+0LQsINC60L7RgtC+0YDRi9C5INC/0LXRgNC10L7Qv9GA0LXQtNC10LvRj9C10YIg0YDQvtC00LjRgtC10LvRjNGB0LrQuNC5LCDQsiDQvdC10Lwg0LfQsNC/0L7Qu9C90Y/QtdC8INC00LDQvdC90YvQtSBcItGC0LXQvNC/0LvQtdC50YLQsFwiINC/0L7Qv9Cw0L/QsFxuICBvcGVuKGxpbmssIG5hbWUpIHtcbiAgICBzdXBlci5vcGVuKCk7XG4gICAgdGhpcy5faW1hZ2VMaW5rLnNyYyA9IGxpbms7XG4gICAgdGhpcy5faW1hZ2VMaW5rLmFsdCA9IG5hbWU7XG4gICAgdGhpcy5fY2Fwcmlvbi50ZXh0Q29udGVudCA9IG5hbWU7XG4gIH1cblxufVxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL3BvcHVwLmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEZvcm0gZXh0ZW5kcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yIChoYW5kbGVTdWJtaXRGb3JtLCBzZWxlY3Rvcikge1xuICAgIHN1cGVyIChzZWxlY3Rvcik7XG4gICAgdGhpcy5faGFuZGxlU3VibWl0Rm9ybSA9IGhhbmRsZVN1Ym1pdEZvcm07XG4gICAgdGhpcy5faW5wdXRzID0gQXJyYXkuZnJvbSh0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yQWxsKCcucG9wdXBfX2l0ZW0nKSk7XG4gICAgdGhpcy5fZm9ybSA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fd3JhcHBlcicpOyAvLyDRgi7Qui4g0YTQvtGA0LzQsCDQstC90YPRgtGA0Lgg0L7QsdC10YDRgtC60LggcG9wdXAsINC40YnQtdC8INCy0L3Rg9GC0YDQuCDQuNC80LXQvdC90L4g0YTQvtGA0LzRgyDQtNC70Y8g0YDQtdGB0LXRgtCwLlxuICB9XG5cbi8v0LzQtdGC0L7QtCDQv9C+0LvRg9GH0LDRjtGJ0LjQuSDQt9C90LDRh9C10L3QuNGPINC40L3Qv9GD0YLQvtCyXG4gIF9nZXRJbnB1dFZhbHVlcyAoKSB7XG4gICAgdGhpcy5fZm9ybVZhbHVlcyA9IHt9O1xuICAgIHRoaXMuX2lucHV0cy5mb3JFYWNoKGlucHV0ID0+IHtcbiAgICAgIHRoaXMuX2Zvcm1WYWx1ZXNbaW5wdXQubmFtZV0gPSBpbnB1dC52YWx1ZTtcbiAgICB9KTtcbiAgICByZXR1cm4gdGhpcy5fZm9ybVZhbHVlczsgXG4gIH1cblxuLy/QvNC10YLQvtC0INC30LDQutGA0YvRgtC40Y8sINCyINC60L7RgtC+0YDQvtC8INGE0L7RgNC80Ysg0YHQsdGA0LDRgdGL0LLQsNGO0YIg0LfQvdCw0YfQtdC90LjRjyDQuNC90L/Rg9GC0L7QslxuICBjbG9zZSgpIHtcbiAgICBzdXBlci5jbG9zZSgpO1xuICAgIHRoaXMuX2Zvcm0ucmVzZXQoKTtcbiAgfVxuXG4vL9C80LXRgtC+0LQsINC/0LXRgNC10L/QuNGB0YvQstCw0Y7RidC40Lkg0YDQvtC00LjRgtC10LvRjNGB0LrQuNC5INC80LXRgtC+0LRcbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgICAvLyDQvdCw0LLQtdGI0LjQstCw0LXRgiDQvtCx0YDQsNCx0L7RgtGH0LjQuiDRgdCw0LHQvNC40YLQsFxuICAgIHRoaXMuX3BvcHVwLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIGV2dCA9PiB7XG4gICAgICB0aGlzLl9oYW5kbGVTdWJtaXRGb3JtKGV2dCwgdGhpcy5fZ2V0SW5wdXRWYWx1ZXMoKSk7XG4gICAgfSlcbiAgfVxuXG59XG4iLCJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFVzZXJJbmZvIHtcbiAgY29uc3RydWN0b3IgKG5hbWVTZWxlY3RvciwgYWJvdXRTZWxlY3RvciwgYXZhdGFyU2VsZWN0b3IpIHtcbiAgICB0aGlzLl9uYW1lICA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IobmFtZVNlbGVjdG9yKTtcbiAgICB0aGlzLl9hYm91dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYWJvdXRTZWxlY3Rvcik7XG4gICAgdGhpcy5fYXZhdGFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihhdmF0YXJTZWxlY3Rvcik7XG5cbiAgfVxuXG4gIC8v0LzQtdGC0L7QtCwg0L/QvtC70YPRh9Cw0Y7RidC40Lkg0LTQsNC90L3Ri9C1INC4INGB0L7Qt9C00LDRjtGJ0LjQuSDQvtCx0YrQtdC60YIg0YEg0LTQsNC90L3Ri9C80Lgg0L/QvtC70YzQt9C+0LLQsNGC0LXQu9GPXG4gIGdldFVzZXJJbmZvICgpIHtcbiAgICB0aGlzLl91c2VyID0ge25hbWU6ICB0aGlzLl9uYW1lLnRleHRDb250ZW50LFxuICAgICAgICAgICAgICAgICAgYWJvdXQ6IHRoaXMuX2Fib3V0LnRleHRDb250ZW50fTtcbiAgICByZXR1cm4gdGhpcy5fdXNlcjtcbiAgfVxuXG4gIC8vINC80LXRgtC+0LQsINC60L7RgtC+0YDRi9C5INC/0YDQuNC90LjQvNCw0LXRgiDQvdC+0LLRi9C1INC00LDQvdC90YvQtSDQuCDQtNC+0LHQsNCy0LvRj9C10YIg0LjRhSDQvdCwINGB0YLRgNCw0L3QuNGG0YNcbiAgc2V0VXNlckluZm8gKHsgbmFtZSwgYWJvdXQsIGlkfSkge1xuICAgIHRoaXMuX25hbWUudGV4dENvbnRlbnQgID0gbmFtZTtcbiAgICB0aGlzLl9hYm91dC50ZXh0Q29udGVudCA9IGFib3V0O1xuICAgIHRoaXMuaWQgPSBpZDtcbiAgfVxuXG4gIC8v0LzQtdGC0L7QtCwg0LrQvtGC0L7RgNGL0Lkg0YPRgdGC0LDQvdCw0LLQu9C40LLQsNC10YIg0L3QvtCy0YPRjiDRhNC+0YLQutGDINC90LAg0LDQstCw0YLQsNGAXG4gIHNldFVzZXJBdmF0YXIgKHNyYykge1xuICAgIHRoaXMuX2F2YXRhci5zcmMgPSBzcmM7XG4gIH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEFwaSB7XG4gIGNvbnN0cnVjdG9yIChiYXNlVXJsLCB7aGVhZGVyc30pIHtcbiAgICB0aGlzLmJhc2VVcmwgPSBiYXNlVXJsO1xuICAgIHRoaXMuaGVhZGVycyA9IGhlYWRlcnM7XG4gIH1cblxuLy/QvNC10YLQvtC0LCDQv9GA0L7QstC10YDRj9GO0YnQuNC5INC60LDQutC+0Lkg0YDQtdC30YPQu9GM0YLQsNGCINC/0YDQuNGI0LXQuywg0LLQvtC30LLRgNCw0YnQsNC10YIg0L7QsdGK0LXQutGCINC10YHQu9C4INC+0LosINC4INC+0YjQuNCx0LrRgywg0LXRgdC70Lgg0L3QtdGCXG4gIF9jaGVja1JlcyhyZXMpIHtcbiAgICBpZiAocmVzLm9rKSB7XG4gICAgICByZXR1cm4gcmVzLmpzb24oKTtcbiAgICB9XG4gICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGDQntGI0LjQsdC60LA6ICR7cmVzLnN0YXR1c31gKTtcbiAgfVxuXG4vL9C80LXRgtC+0LQsINC60L7RgtC+0YDRi9C5INGA0LXQsNC70LjQt9GD0LXRgiDQv9C+0LvRg9GH0LXQvdC40LUg0LrQsNGA0YLQvtGH0LrQuCDRgSDRgdC10YDQstC10YDQsFxuICBnZXRDYXJkcyAoKSB7XG4gICAgcmV0dXJuIGZldGNoIChgJHt0aGlzLmJhc2VVcmx9L2NhcmRzYCwge1xuICAgICAgaGVhZGVyczogdGhpcy5oZWFkZXJzXG4gICAgfSlcbiAgICAudGhlbiAocmVzID0+IHtyZXR1cm4gdGhpcy5fY2hlY2tSZXMocmVzKX0pXG4gIH1cblxuIC8vINC80LXRgtC+0LQsINC60L7RgtC+0YDRi9C5INGA0LXQsNC70LjQt9GD0LXRgiDQv9C+0LvRg9GH0LXQvdC40LUg0LTQsNC90L3Ri9C1INC/0L7Qu9GM0LfQvtCy0LDRgtC10LvRjyDRgSDRgdC10YDQstC10YDQsFxuICBnZXRVc2VyRGF0YSAoKSB7XG4gICAgcmV0dXJuIGZldGNoIChgJHt0aGlzLmJhc2VVcmx9L3VzZXJzL21lYCwge1xuICAgICAgaGVhZGVyczogdGhpcy5oZWFkZXJzXG4gICAgfSlcbiAgICAudGhlbiAocmVzID0+IHtyZXR1cm4gdGhpcy5fY2hlY2tSZXMocmVzKX0pXG4gIH1cblxuIC8vINC80LXRgtC+0LQsINC60L7RgtC+0YDRi9C5INGA0LXQsNC70LjQt9GD0LXRgiDRgNC10LTQsNC60YLQuNGA0L7QstCw0L3QuNC1INC00LDQvdC90YvRhSDQv9C+0LvRjNC30L7QstCw0YLQtdC70Y8g0L3QsCDRgdC10YDQstC10YDQtVxuICBwb3N0VXNlckRhdGEgKHVzZXJOYW1lLCBhYm91dCl7XG4gICAgcmV0dXJuIGZldGNoIChgJHt0aGlzLmJhc2VVcmx9L3VzZXJzL21lYCwge1xuICAgICAgaGVhZGVyczogdGhpcy5oZWFkZXJzLFxuICAgICAgbWV0aG9kOiAnUEFUQ0gnLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe25hbWU6IHVzZXJOYW1lLCBhYm91dDogYWJvdXR9KSxcbiAgICB9KVxuICAgIC50aGVuIChyZXMgPT4ge3JldHVybiB0aGlzLl9jaGVja1JlcyhyZXMpfSlcbiAgfVxuXG4gIC8vICDQvNC10YLQvtC0LCDQutC+0YLQvtGA0YvQuSDRgNC10LDQu9C40LfRg9C10YIg0YDQtdC00LDQutGC0LjRgNC+0LLQsNC90LjQtSDQsNCy0YLQsNGA0LAg0L/QvtC70YzQt9C+0LLQsNGC0LXQu9GPINC90LAg0YHQtdGA0LLQtdGA0LVcbiAgcG9zdFVzZXJQaG90byAobGluayl7XG4gICAgcmV0dXJuIGZldGNoIChgJHt0aGlzLmJhc2VVcmx9L3VzZXJzL21lL2F2YXRhcmAsIHtcbiAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVycyxcbiAgICAgIG1ldGhvZDogJ1BBVENIJyxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHthdmF0YXI6IGxpbmt9KSxcbiAgICB9KVxuICAgIC50aGVuIChyZXMgPT4ge3JldHVybiB0aGlzLl9jaGVja1JlcyhyZXMpfSlcbiAgfVxuXG4vLyDQvNC10YLQvtC0LCDQutC+0YLQvtGA0YvQuSDRgNC10LDQu9C40LfRg9C10YIg0L7RgtC/0YDQsNCy0LvQtdC90LjQtSDQutCw0YDRgtC+0YfQutC4INC90LAg0YHQtdGA0LLQtdGAXG4gIHBvc3RDYXJkIChjYXJkTmFtZSwgbGluayl7XG4gICAgcmV0dXJuIGZldGNoIChgJHt0aGlzLmJhc2VVcmx9L2NhcmRzYCwge1xuICAgICAgaGVhZGVyczogdGhpcy5oZWFkZXJzLFxuICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7bmFtZTogY2FyZE5hbWUsIGxpbms6IGxpbmt9KSxcbiAgICB9KVxuICAgIC50aGVuIChyZXMgPT4ge3JldHVybiB0aGlzLl9jaGVja1JlcyhyZXMpfSlcbiAgfVxuXG4vLyDQvNC10YLQvtC0LCDQutC+0YLQvtGA0YvQuSDRgNC10LDQu9C40LfRg9C10YIg0YPRgdGC0LDQvdC+0LLQutGDINC70LDQudC60LAg0L3QsCDQutCw0YDRgtC+0YfQutGDXG4gIHB1dExpa2UgKGNhcmRJZCl7XG4gICAgcmV0dXJuIGZldGNoIChgJHt0aGlzLmJhc2VVcmx9L2NhcmRzLyR7Y2FyZElkfS9saWtlc2AsIHtcbiAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVycyxcbiAgICAgIG1ldGhvZDogJ1BVVCcsXG4gICAgfSlcbiAgICAudGhlbiAocmVzID0+IHtyZXR1cm4gdGhpcy5fY2hlY2tSZXMocmVzKX0pXG4gIH1cblxuLy8g0LzQtdGC0L7QtCwg0LrQvtGC0L7RgNGL0Lkg0YDQtdCw0LvQuNC30YPQtdGCINGD0LTQsNC70LXQvdC40LUg0LvQsNC50LrQsCDRgSDQutCw0YDRgtC+0YfQutC4XG4gIGRlbGV0ZUxpa2UgKGNhcmRJZCl7XG4gICAgcmV0dXJuIGZldGNoIChgJHt0aGlzLmJhc2VVcmx9L2NhcmRzLyR7Y2FyZElkfS9saWtlc2AsIHtcbiAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVycyxcbiAgICAgIG1ldGhvZDogJ0RFTEVURScsXG4gICAgfSlcbiAgICAudGhlbiAocmVzID0+IHtyZXR1cm4gdGhpcy5fY2hlY2tSZXMocmVzKX0pXG4gIH1cblxuLy8g0LzQtdGC0L7QtCwg0LrQvtGC0L7RgNGL0Lkg0YDQtdCw0LvQuNC30YPQtdGCINGD0LTQsNC70LXQvdC40LUg0LrQsNGA0YLQvtGH0LrQuCDRgSDRgdC10YDQstC10YDQsCAgXG4gIGRlbGV0ZUNhcmQgKGNhcmRJZCkge1xuICAgIHJldHVybiBmZXRjaCAoYCR7dGhpcy5iYXNlVXJsfS9jYXJkcy8ke2NhcmRJZH1gLCB7XG4gICAgICBtZXRob2Q6ICdERUxFVEUnLFxuICAgICAgaGVhZGVyczogdGhpcy5oZWFkZXJzXG4gICAgfSlcbiAgICAudGhlbiAocmVzID0+IHtyZXR1cm4gdGhpcy5fY2hlY2tSZXMocmVzKX0pXG4gIH1cbn1cbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9wb3B1cC5qc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhDb25maXJtIGV4dGVuZHMgUG9wdXB7XG4gIGNvbnN0cnVjdG9yKGhhbmRsZVN1Ym1pdEZvcm0sIHNlbGVjdG9yKSB7XG4gICAgc3VwZXIoc2VsZWN0b3IpO1xuICAgIHRoaXMuX2hhbmRsZVN1Ym1pdEZvcm0gPSBoYW5kbGVTdWJtaXRGb3JtO1xuICAgIHRoaXMuYnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwLWNvbmZpcm1fX3NhdmUnKTtcbiAgfVxuXG4gIC8vINC40YHQv9GA0LDQstC40Lwg0YLQtdC60YHRgiDQutC90L7Qv9C60Lgg0L3QsCDQvdGD0LbQvdGL0LlcbiAgb3BlbiAoKSB7XG4gICAgdGhpcy5idXR0b24udGV4dENvbnRlbnQgPSAn0JTQsCc7XG4gICAgc3VwZXIub3BlbigpO1xuICB9XG5cbiAgLy/Qv9C10YDQtdC+0L/RgNC10LTQtdC70Y/QtdC8INGA0L7QtNC40YLQtdC70YzRgdC60LjQuSDQvNC10YLQvtC0XG4gIHNldEV2ZW50TGlzdGVuZXJzICgpIHtcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xuICAgIHRoaXMuX3BvcHVwLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIGV2dCA9PiB7XG4gICAgICAgIHRoaXMuX2hhbmRsZVN1Ym1pdEZvcm0oZXZ0LCB0aGlzLl9pZCwgdGhpcy5fdGFyZ2V0KTtcbiAgICB9KVxuICB9XG5cbiAgLy/Rg9GB0YLQsNC90LDQstC70LjQstCw0LXQvCDRgSDQutCw0LrQvtC5INC40LzQtdC90L3QviDQutCw0YDRgtC+0YfQutC+0Lkg0LHRg9C00LXQvCDRgNCw0LHQvtGC0LDRgtGMXG4gIHNldElkIChjYXJkKSB7XG4gICAgdGhpcy5faWQgPSBjYXJkLmlkO1xuICAgIHRoaXMuY3VycmVudENhcmQgPSBjYXJkO1xuICAgIFxuICB9XG59XG4iLCIvLyDQuNC80L/QvtGA0YIg0L7RgdC90L7QstC90L7Qs9C+IGNzcyDRhNCw0LnQu9CwXG5pbXBvcnQgJy4vaW5kZXguY3NzJztcblxuLy/QuNC80L/QvtGA0YLRiyDQutC70LDRgdGB0L7QslxuaW1wb3J0ICogYXMgY29uc3RhbnRzIGZyb20gJy4uL3V0aWxzL2NvbnN0YW50cy5qcyc7XG5pbXBvcnQgRm9ybVZhbGlkYXRvciBmcm9tICcuLi9jb21wb25lbnRzL2Zvcm1WYWxpZGF0b3IuanMnO1xuaW1wb3J0IENhcmQgZnJvbSAnLi4vY29tcG9uZW50cy9jYXJkLmpzJ1xuaW1wb3J0IFNlY3Rpb24gZnJvbSAnLi4vY29tcG9uZW50cy9zZWN0aW9uLmpzJztcbmltcG9ydCBQb3B1cFdpdGhJbWFnZSBmcm9tICcuLi9jb21wb25lbnRzL3BvcHVwV2l0aEltYWdlLmpzJztcbmltcG9ydCBQb3B1cFdpdGhGb3JtIGZyb20gJy4uL2NvbXBvbmVudHMvcG9wdXBXaXRoRm9ybS5qcyc7XG5pbXBvcnQgVXNlckluZm8gZnJvbSAnLi4vY29tcG9uZW50cy91c2Vyc0luZm8uanMnO1xuaW1wb3J0IEFwaSBmcm9tICcuLi9jb21wb25lbnRzL2FwaS5qcydcbmltcG9ydCBQb3B1cFdpdGhDb25maXJtIGZyb20gJy4uL2NvbXBvbmVudHMvcG9wdXBXaXRoQ29uZmlybSc7XG5cbi8vY9C+0LfQtNCw0L3QuNC1INGN0LrQt9C10LzQv9C70Y/RgNCwINC60LvQsNGB0YHQsCBBcGlcbmNvbnN0IGFwaSA9IG5ldyBBcGkgKCdodHRwczovL21lc3RvLm5vbW9yZXBhcnRpZXMuY28vdjEvY29ob3J0LTQxJywge1xuICBoZWFkZXJzOiB7XG4gICAgYXV0aG9yaXphdGlvbjogJzQyMGE4NmI0LTcxMzMtNGNhMC05MGNmLWJiMmNkZGEyYTkwYycsXG4gICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xuICB9XG59KVxuXG4vLyDRgdC+0LfQtNCw0L3QuNC1INGN0LrQt9C10LzQv9C70Y/RgNCwINC60LvQsNGB0YHQsCBVc2VySW5mb1xuY29uc3QgdXNlciA9IG5ldyBVc2VySW5mbyAoJy5wcm9maWxlX190aXRsZScsICcucHJvZmlsZV9fc3VidGl0bGUnLCAnLnByb2ZpbGVfX2F2YXRhcicpO1xuXG5cbi8v0YTRg9C90LrRhtC40Y8sINC60L7RgtC+0YDQsNGPINC80LXQvdGP0LXRgiDRgtC10LrRgdGCINC60L3QvtC/0LrQuCwg0LrQvtCz0LTQsCDQv9GA0L7QuNGB0YXQvtC00LjRgiDQt9Cw0LPRgNGD0LfQutCwXG5mdW5jdGlvbiByZW5kZXJMb2FkUHJvZ3Jlc3MgKGJ1dHRvblNlbGVjdG9yLCBpc0xvYWRpbmcpIHtcbiAgY29uc3QgYnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihidXR0b25TZWxlY3Rvcik7XG4gIGlmIChpc0xvYWRpbmcpIHtcbiAgICBidXR0b24udGV4dENvbnRlbnQgPSBg0KHQvtGF0YDQsNC90LXQvdC40LUuLi5gO1xuICB9XG4gIGVsc2Uge1xuICAgIGJ1dHRvbi50ZXh0Q29udGVudCA9IGDQodC+0YXRgNCw0L3QuNGC0YxgO1xuICB9XG59XG5cbi8vINGE0YPQvdC60YbQuNGPLCDQutC+0YLQvtGA0LDRjyDQv9C+0LrQsNC30YvQstCw0LUg0LjQu9C4INC/0YDRj9GH0LXRgiDRjdC70LXQvNC10L3RgiDQt9Cw0LPRgNGD0LfQutC4XG5mdW5jdGlvbiByZW5kZXJTcGlubmVyKHNwaW5uZXJTZWxlY3RvciwgaXNMb2FkaW5nKSB7XG4gIGNvbnN0IHNwaW5uZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNwaW5uZXJTZWxlY3Rvcik7XG4gIGlmIChpc0xvYWRpbmcpIHtcbiAgICBzcGlubmVyLmNsYXNzTGlzdC5hZGQoJ2NvbnRlbnQtbG9hZGVyX3Zpc2libGUnKTtcbiAgfVxuICBlbHNlIHtcbiAgICBzcGlubmVyLmNsYXNzTGlzdC5yZW1vdmUoJ2NvbnRlbnQtbG9hZGVyX3Zpc2libGUnKTtcbiAgfVxufVxuXG4vLyDRhNGD0L3QutGG0LjRjywg0LrQvtGC0L7RgNCw0Y8g0L/QvtC60LDQt9GL0LLQsNC1INC40LvQuCDQv9GA0Y/Rh9C10YIg0LrQvtC90YLQtdC90YJcbmZ1bmN0aW9uIHJlbmRlckNvbnRlbnQgKGNvbnRlbnRTZWxlY3RvciwgaXNMb2FkaW5nKSB7XG4gIGNvbnN0IGNvbnRlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNvbnRlbnRTZWxlY3Rvcik7XG4gIGlmIChpc0xvYWRpbmcpIHtcbiAgICBjb250ZW50LmNsYXNzTGlzdC5hZGQoJ2NvbnRlbnRfdmlzaWJsZScpO1xuICB9XG4gIGVsc2Uge1xuICAgIGNvbnRlbnQuY2xhc3NMaXN0LnJlbW92ZSgnY29udGVudF92aXNpYmxlJyk7XG4gIH1cbn1cblxuLy8gY9C+0LfQttCw0LXQvCDRjdC60LfQtdC80L/Qu9GP0YAg0LrQu9Cw0YHRgdCwIFNlY3Rpb25cbmNvbnN0IGNhcmRMaXN0ID0gbmV3IFNlY3Rpb24gKChpdGVtKSA9PiB7XG4gIGNvbnN0IGNhcmRFbGVtZW50ID0gY3JlYXRlQ2FyZChpdGVtKTtcbiAgY2FyZExpc3QuYWRkSXRlbShjYXJkRWxlbWVudCk7XG59LCAnLnBsYWNlcycpO1xuXG4vL9C/0L7Qu9GD0YfQsNC10Lwg0LTQsNC90L3Ri9C1INC60LDRgNGC0L7Rh9C10Log0Lgg0L/QvtC70YzQt9C+0LLQsNGC0LXQu9GPINC4INCy0YHQtSDQvtGC0YDQuNGB0L7QstGL0LLQsNC10LxcbnJlbmRlclNwaW5uZXIoJy5jb250ZW50LWxvYWRlcicsIHRydWUpO1xucmVuZGVyQ29udGVudCgnLmNvbnRlbnQnLCBmYWxzZSk7XG5Qcm9taXNlLmFsbChbYXBpLmdldFVzZXJEYXRhKCksIGFwaS5nZXRDYXJkcygpXSlcbiAgLnRoZW4oKFt1c2VyRGF0YSwgY2FyZERhdGFdKT0+e1xuICAgIHVzZXIuc2V0VXNlckluZm8oe25hbWU6IHVzZXJEYXRhLm5hbWUsIGFib3V0OiB1c2VyRGF0YS5hYm91dCwgaWQ6IHVzZXJEYXRhLl9pZH0pO1xuICAgIHVzZXIuc2V0VXNlckF2YXRhcih1c2VyRGF0YS5hdmF0YXIpO1xuICAgIGNhcmRMaXN0LnJlbmRlckl0ZW1zKGNhcmREYXRhKTtcbiAgfSlcbiAgLmNhdGNoKChlcnIpPT57Y29uc29sZS5sb2coYNCn0YLQvi3RgtC+INC90LUg0YLQsNC6LiAke2Vycn1gKX0pXG4gIC5maW5hbGx5KCgpPT57XG4gICAgcmVuZGVyU3Bpbm5lcignLmNvbnRlbnQtbG9hZGVyJywgZmFsc2UpO1xuICAgIHJlbmRlckNvbnRlbnQoJy5jb250ZW50JywgdHJ1ZSk7XG4gIH0pXG5cbiAgXG4vLyDRgdC+0LfQtNCw0L3QuNC1INGN0LrQt9C10LzQv9C70Y/RgNCwINC/0L7Qv9Cw0L/QsCDQtNC70Y8g0YTQvtGA0LzRiyDQv9C+0LTRgtCy0LXRgNC20LTQtdC90LjRj1xuY29uc3QgY29uZmlybVBvcHVwID0gbmV3IFBvcHVwV2l0aENvbmZpcm0gKGhhbmRsZVN1Ym1pdENvbmZpcm1Qb3B1cCwgJy5wb3B1cC1jb25maXJtJyk7XG5jb25maXJtUG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuLy8g0L7QsdGA0LDQsdC+0YLRh9C40Log0L3QsNC20LDRgtC40Y8g0LrQvdC+0L/QutC4IFwi0JTQkFwiINC90LAg0YTQvtGA0LzQtSDQv9C+0LTRgtCy0LXRgNC20LTQtdC90LjRj1xuZnVuY3Rpb24gaGFuZGxlU3VibWl0Q29uZmlybVBvcHVwIChldnQsIGNhcmRJZCkge1xuICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgcmVuZGVyTG9hZFByb2dyZXNzKCcucG9wdXAtY29uZmlybV9fc2F2ZScsIHRydWUpO1xuXG4gIGFwaS5kZWxldGVDYXJkKGNhcmRJZClcbiAgICAudGhlbigoKSA9PiB7XG4gICAgICBjb25maXJtUG9wdXAuY3VycmVudENhcmQuZGVsZXRlQ2FyZCgpO1xuICAgICAgY29uZmlybVBvcHVwLmNsb3NlKCl9KSBcbiAgICAuY2F0Y2ggKChlcnIpID0+e2NvbnNvbGUubG9nKGDQp9GC0L4t0YLQviDQvdC1INGC0LDQui4gJHtlcnJ9YCl9KVxuICAgIC5maW5hbGx5KCgpPT57cmVuZGVyTG9hZFByb2dyZXNzKCcucG9wdXAtY29uZmlybV9fc2F2ZScsIGZhbHNlKX0pXG4gIH1cblxuLy/RhNGD0L3QutGG0LjRjyDRgdC+0LfQtNCw0L3QuNGPINC60LDRgNGC0L7Rh9C60LhcbmZ1bmN0aW9uIGNyZWF0ZUNhcmQgKGl0ZW0pIHtcbiAgY29uc3QgY2FyZCA9IG5ldyBDYXJkICh7XG4gICAgY2FyZDogaXRlbSwgXG4gICAgLy/QvtCx0YDQsNCx0L7RgtGH0LjQuiDQutC70LjQutCwINC90LAg0LrQsNGA0YLQvtGH0LrRg1xuICAgIGhhbmRsZUNhcmRDbGljazogKGxpbmssIG5hbWUpID0+IHtcbiAgICAgIHBvcHVwUGhvdG8ub3BlbihsaW5rLCBuYW1lKTtcbiAgICB9LFxuICAgIC8v0L7QsdGA0LDQsdC+0YLRh9C40Log0LrQu9C40LrQsCDQvdCwINC70LDQudC6XG4gICAgaGFuZGxlTGlrZUNsaWNrOiAoKSA9PiB7XG4gICAgICBpZiAoIWNhcmQuaXNMaWtlZCh1c2VyLmlkKSkge1xuICAgICAgICBcbiAgICAgICAgYXBpLnB1dExpa2UoY2FyZC5pZClcbiAgICAgICAgICAudGhlbihyZXMgPT4ge1xuICAgICAgICAgICAgY2FyZC5zZXRMaWtlKCk7XG4gICAgICAgICAgICBjYXJkLnJlbmV3TGlrZUNvdW50ZXIocmVzLmxpa2VzKTtcbiAgICAgICAgICB9KVxuICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmxvZyhg0KfRgtC+LdGC0L4g0L3QtSDRgtCw0LouICR7ZXJyfWApKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGFwaS5kZWxldGVMaWtlKGNhcmQuaWQpXG4gICAgICAgICAgLnRoZW4ocmVzID0+IHtcbiAgICAgICAgICAgIGNhcmQucmVtb3ZlTGlrZSgpO1xuICAgICAgICAgICAgY2FyZC5yZW5ld0xpa2VDb3VudGVyKHJlcy5saWtlcyk7XG4gICAgICAgICAgfSlcbiAgICAgICAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5sb2coYNCn0YLQvi3RgtC+INC90LUg0YLQsNC6LiAke2Vycn1gKSk7XG4gICAgICB9XG4gICAgfSxcbiAgICAvL9C+0LHRgNCw0LHQvtGC0YfQuNC6INC60LvQuNC60LAg0L3QsCDQutC90L7Qv9C60YMg0YPQtNCw0LvQtdC90LjRj1xuICAgIGhhbmRsZURlbGV0ZUNsaWNrOiAoKSA9PiB7XG4gICAgICBjb25maXJtUG9wdXAuc2V0SWQoY2FyZCk7XG4gICAgICBjb25maXJtUG9wdXAub3BlbigpO1xuICAgIH1cbiAgfSwgJy5jYXJkX3RlbXBsYXRlJyk7XG5cbiAgcmV0dXJuIGNhcmQuY3JlYXRlQ2FyZCh1c2VyLmlkKTtcblxufVxuXG5cbi8v0YHQvtC30LTQsNC90LjQtSDRjdC60LfQtdC80L/Qu9GP0YDQsCDQv9C+0L/QsNC/0LAg0LTQu9GPINGE0L7RgNC80Ysg0YDQtdC00LDQutGC0LjRgNC+0LLQsNC90LjRjyDQv9GA0L7RhNC40LvRj1xuY29uc3QgcG9wdXBFZGl0Rm9ybSA9IG5ldyBQb3B1cFdpdGhGb3JtICgoZXZ0LCBkYXRhKT0+IHtcbiAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gIHJlbmRlckxvYWRQcm9ncmVzcygnLnBvcHVwLWVkaXRfX3NhdmUnLCB0cnVlKTtcbiAgY29uc3QgbmV3VXNlckluZm8gPSB7XG4gICAgbmFtZTogZGF0YS5wb3B1cF90aXRsZSxcbiAgICBhYm91dDogZGF0YS5wb3B1cF9zdXRpdGxlfVxuICBhcGkucG9zdFVzZXJEYXRhKG5ld1VzZXJJbmZvLm5hbWUsIG5ld1VzZXJJbmZvLmFib3V0KVxuICAgIC50aGVuKCgpID0+IHtcbiAgICAgIHVzZXIuc2V0VXNlckluZm8obmV3VXNlckluZm8pXG4gICAgICBwb3B1cEVkaXRGb3JtLmNsb3NlKCk7XG4gICAgfSlcbiAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5sb2coYNCn0YLQvi3RgtC+INC90LUg0YLQsNC6LiAke2Vycn1gKSlcbiAgICAuZmluYWxseSgoKT0+e3JlbmRlclNwaW5uZXIoJy5wb3B1cC1lZGl0X19zYXZlJywgZmFsc2UpfSk7XG59LCAnLnBvcHVwLWVkaXQnKTtcbnBvcHVwRWRpdEZvcm0uc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuXG4vL9C+0LHRgNCw0LHQvtGC0YfQuNC6INC60L3QvtC/0LrQuCDRgNC10LTQsNC60YLQuNGA0L7QstCw0L3QuNGPINC/0YDQvtGE0LjQu9GPXG5jb25zdGFudHMuZWRpdEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgY29uc3Qge25hbWUsIGFib3V0fSA9IHVzZXIuZ2V0VXNlckluZm8oKTtcbiAgY29uc3RhbnRzLmlucHV0VGl0bGUudmFsdWUgPSBuYW1lO1xuICBjb25zdGFudHMuaW5wdXRTdWJ0aXRsZS52YWx1ZSA9IGFib3V0O1xuICByZW5kZXJMb2FkUHJvZ3Jlc3MoJy5wb3B1cC1lZGl0X19zYXZlJywgZmFsc2UpO1xuICBwb3B1cEVkaXRGb3JtLm9wZW4oKTtcbn0pXG5cblxuLy/RgdC+0LfQtNCw0L3QuNC1INGN0LrQt9C10LzQv9C70Y/RgNCwINC/0L7Qv9Cw0L/QsCDQtNC70Y8g0YTQvtGA0LzRiyDQtNC+0LHQsNCy0LvQtdC90LjRjyDRhNC+0YLQvlxuY29uc3QgcG9wdXBBZGRGb3JtID0gbmV3IFBvcHVwV2l0aEZvcm0gKChldnQsIGRhdGEpID0+IHtcbiAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gIHJlbmRlckxvYWRQcm9ncmVzcygnLnBvcHVwLWFkZF9fc2F2ZScsIHRydWUpXG4gIFxuICBjb25zdCBuZXdDYXJkRGF0YSA9IHtcbiAgICBuYW1lOiBkYXRhLnBvcHVwX3RpdGxlLFxuICAgIGxpbms6IGRhdGEucG9wdXBfc3V0aXRsZSxcbiAgICBsaWtlczogW10sXG4gICAgb3duZXI6IHtfaWQ6IHVzZXIuaWR9LFxuICAgIGlkOiAnJ1xuICB9XG4gIGFwaS5wb3N0Q2FyZChuZXdDYXJkRGF0YS5uYW1lLCBuZXdDYXJkRGF0YS5saW5rKVxuICAudGhlbigocmVzKT0+IHtcbiAgICBjb25zdCBuZXdDYXJkID0gY3JlYXRlQ2FyZChyZXMpO1xuICAgIGNhcmRMaXN0LnJlbmRlck5ld0VsZW1lbnQobmV3Q2FyZCk7XG4gICAgcG9wdXBBZGRGb3JtLmNsb3NlKCk7XG4gICAgfSlcbiAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUubG9nKGDQp9GC0L4t0YLQviDQvdC1INGC0LDQui4gJHtlcnJ9YCkpXG4gIC5maW5hbGx5KCgpPT57IHJlbmRlckxvYWRQcm9ncmVzcygnLnBvcHVwLWFkZF9fc2F2ZScsIGZhbHNlKSB9KTsgIFxufSwgJy5wb3B1cC1hZGQnKTtcblxucG9wdXBBZGRGb3JtLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cblxuLy8g0L7QsdGA0LDQsdC+0YLRh9C40Log0YHQvtCx0YvRgtC40Y8g0L3QsCDQvdCw0LbQsNGC0LjQtSDQutC90L7Qv9C60Lgg0LTQvtCx0LDQstC70LXQvdC40Y8g0YTQvtGC0L5cbmNvbnN0YW50cy5hZGRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gIGFkZEZvcm1WYWxpZGF0b3IucmVzZXRWYWxpZGF0aW9uKCk7XG4gIHBvcHVwQWRkRm9ybS5vcGVuKCk7XG59KTtcblxuLy/RgdC+0LfQtNCw0L3QuNC1INGN0LrQt9C10LzQv9C70Y/RgNCwINC/0L7Qv9Cw0L/QsCDRhNC+0YDQvNGLINC00LvRjyDRgNC10LTQsNC60YLQuNGA0L7QstCw0L3QuNGPINCw0LLQsNGC0LDRgNCwINC/0YDQvtGE0LjQu9GPXG5jb25zdCBlZGl0QXZhdGFyUG9wdXAgPSBuZXcgUG9wdXBXaXRoRm9ybSAoKGV2dCwgZGF0YSk9PntcbiAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gIHJlbmRlckxvYWRQcm9ncmVzcygnLnVwZGF0ZS1hdmF0YXItZm9ybV9fc2F2ZScsIHRydWUpXG4gIGNvbnN0IG5ld0F2YXRhciA9IGRhdGEuaW5wdXRBdmF0YXJMaW5rO1xuXG4gIGFwaS5wb3N0VXNlclBob3RvKG5ld0F2YXRhcilcbiAgICAudGhlbigoKT0+e1xuICAgICAgY29uc3QgYXZhdGFyUGhvdG8gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fYXZhdGFyJyk7XG4gICAgICBhdmF0YXJQaG90by5zcmMgPSBuZXdBdmF0YXI7XG4gICAgICBlZGl0QXZhdGFyUG9wdXAuY2xvc2UoKTtcbiAgICAgIH0pXG4gICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUubG9nKGDQp9GC0L4t0YLQviDQvdC1INGC0LDQui4gJHtlcnJ9YCkpXG4gICAgLmZpbmFsbHkoKCk9PnsgcmVuZGVyTG9hZFByb2dyZXNzKCcudXBkYXRlLWF2YXRhci1mb3JtX19zYXZlJywgZmFsc2UpIH0pOyAgICBcbiAgfSwgJy5wb3B1cC11cGRhdGUtYXZhdGFyJyk7XG5cbiAgZWRpdEF2YXRhclBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbi8vINC+0LHRgNCw0LHQvtGC0YfQuNC6INGB0L7QsdGL0YLQuNGPINC90LAg0L3QsNC20LDRgtC40LUg0LrQvdC+0L/QutC4INGA0LXQtNCw0LrRgtC40YDQvtCy0LDQvdC40Y8g0LDQstCw0YLQsNGA0LAg0L/RgNC+0YTQuNC70Y9cbmNvbnN0YW50cy5lZGl0QXZhdGFyQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCk9PiB7XG4gIGVkaXRBdmF0YXJWYWxpZGF0b3IucmVzZXRWYWxpZGF0aW9uKCk7XG4gIGVkaXRBdmF0YXJQb3B1cC5vcGVuKCk7XG59KVxuXG4vLyDRgdC+0LfQtNCw0L3QuNC1INGN0LrQt9C10LzQv9C70Y/RgNCwINC60LvQsNGB0YHQsCDQtNC70Y8g0YTQvtGA0LzRiyDRgSDRg9Cy0LXQu9C40YfQtdC90L3Ri9C8INGE0L7RgtC+ICjQv9GD0YHRgtC+0LksINC30LDQv9C+0LvQvdGP0LXRgtGB0Y8g0L/RgNC4INC+0YLQutGA0YvRgtC40LgpXG5jb25zdCBwb3B1cFBob3RvID0gbmV3IFBvcHVwV2l0aEltYWdlICgnLnBvcHVwLXBob3RvJyk7XG5wb3B1cFBob3RvLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbi8v0YHQvtC30LTQsNC90LjQtSDRjdC60LfQtdC80L/Qu9GP0YDQvtCyINCy0LDQu9C40LTQsNGC0L7RgNC+0LIg0LTQu9GPINC60LDQttC00L7QuSDRhNC+0YDQvNGLXG4gIC8v0LTQvtCx0LDQstC70LXQvdC40LUg0YTQvtGC0L5cbmNvbnN0IGFkZEZvcm1WYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvciAoY29uc3RhbnRzLmRhdGEsIGNvbnN0YW50cy5hZGRGb3JtKTtcbmFkZEZvcm1WYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xuICAvL9GA0LXQtNCw0LrRgtC40YDQvtCy0LDQvdC40LUg0L/RgNC+0YTQuNC70Y9cbmNvbnN0IGVkaXRGb3JtVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IgKGNvbnN0YW50cy5kYXRhLCBjb25zdGFudHMuZWRpdEZvcm0pO1xuZWRpdEZvcm1WYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xuICAvL9GA0LXQtNCw0LrRgtC40YDQvtCy0LDQvdC40LUg0LDQstCw0YLQsNGA0LAg0L/RgNC+0YTQuNC70Y9cbmNvbnN0IGVkaXRBdmF0YXJWYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvciAoY29uc3RhbnRzLmRhdGEsIGNvbnN0YW50cy5lZGl0QXZhdGFyRm9ybSk7XG5lZGl0QXZhdGFyVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcbiJdLCJuYW1lcyI6WyJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJlZGl0Rm9ybSIsImFkZEZvcm0iLCJlZGl0QXZhdGFyRm9ybSIsImlucHV0VGl0bGUiLCJpbnB1dFN1YnRpdGxlIiwiZWRpdEJ1dHRvbiIsImFkZEJ1dHRvbiIsImVkaXRBdmF0YXJCdXR0b24iLCJkYXRhIiwiaW5wdXRFbGVtZW50Iiwic3VibWl0QnV0dG9uU2VsZWN0b3IiLCJpbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiaW5wdXRFcnJvckNsYXNzIiwic3BhbkVycm9yQ2xhc3MiLCJGb3JtVmFsaWRhdG9yIiwiZm9ybUVsZW1lbnQiLCJ0aGlzIiwiX2Zvcm1FbGVtZW50IiwiX2lucHV0TGlzdCIsIkFycmF5IiwiZnJvbSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJfc3VibWl0QnV0dG9uU2VsZWN0b3IiLCJfaW5hY3RpdmVCdXR0b25DbGFzcyIsIl9pbnB1dEVycm9yQ2xhc3MiLCJfc3BhbkVycm9yQ2xhc3MiLCJzb21lIiwiaXRlbSIsInZhbGlkaXR5IiwidmFsaWQiLCJlcnJvckVsZW1lbnQiLCJpZCIsImNsYXNzTGlzdCIsImFkZCIsInRleHRDb250ZW50IiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJyZW1vdmUiLCJfaGlkZUVycm9yIiwiX3Nob3dFcnJvciIsImJ1dHRvbkVsZW1lbnQiLCJfaGFzSW52YWxpZElucHV0Iiwic2V0QXR0cmlidXRlIiwicmVtb3ZlQXR0cmlidXRlIiwiZm9yRWFjaCIsImFkZEV2ZW50TGlzdGVuZXIiLCJldnQiLCJfY2hlY2tJbnB1dFZhbGlkaXR5IiwidGFyZ2V0IiwiX3RvZ2dsZUJ1dHRvbiIsIl9zZXRFdmVudExpc3RlbmVycyIsIkNhcmQiLCJ0ZW1wbGF0ZVNlbGVjdG9yIiwiY2FyZCIsImhhbmRsZUNhcmRDbGljayIsImhhbmRsZUxpa2VDbGljayIsImhhbmRsZURlbGV0ZUNsaWNrIiwiX25hbWUiLCJuYW1lIiwiX2xpbmsiLCJsaW5rIiwiX2xpa2VzIiwibGlrZXMiLCJfaGFuZGxlQ2FyZENsaWNrIiwiX2hhbmRsZUxpa2VDbGljayIsIl9oYW5kbGVEZWxldGVDbGljayIsIl90ZW1wbGF0ZVNlbGVjdG9yIiwiX293bmVySWQiLCJvd25lciIsIl9pZCIsIl9jYXJkRWxlbWVudCIsImNvbnRlbnQiLCJjbG9uZU5vZGUiLCJfYnV0dG9uTGlrZSIsIl9nZXRDYXJkRWxlbWVudCIsImlzTGlrZWQiLCJzZXRMaWtlIiwiY2FyZEltYWdlIiwic3JjIiwiYWx0IiwiX2xpa2VDb3VudGVyIiwibGVuZ3RoIiwiaGFzTGlrZSIsImNvdW50ZXIiLCJfcmVuZGVyQ2FyZCIsIl9zZXRFdmVudExpc3RlbmVyIiwiU2VjdGlvbiIsInJlbmRlcmVyIiwiY29udGFpbmVyU2VsZWN0b3IiLCJfY29udGFpbmVyIiwiX3JlbmRlcmVyIiwiZWxlbWVudCIsImFwcGVuZCIsInByZXBlbmQiLCJQb3B1cCIsInBvcHVwU2VsZWN0b3IiLCJfc2VsZWN0b3IiLCJfcG9wdXAiLCJfaGFuZGxlRXNjTGlzdGVuZXIiLCJrZXkiLCJjbG9zZSIsImJpbmQiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiY29udGFpbnMiLCJQb3B1cFdpdGhJbWFnZSIsInNlbGVjdG9yIiwiX2ltYWdlTGluayIsIl9jYXByaW9uIiwiUG9wdXBXaXRoRm9ybSIsImhhbmRsZVN1Ym1pdEZvcm0iLCJfaGFuZGxlU3VibWl0Rm9ybSIsIl9pbnB1dHMiLCJfZm9ybSIsIl9mb3JtVmFsdWVzIiwiaW5wdXQiLCJ2YWx1ZSIsInJlc2V0IiwiX2dldElucHV0VmFsdWVzIiwiVXNlckluZm8iLCJuYW1lU2VsZWN0b3IiLCJhYm91dFNlbGVjdG9yIiwiYXZhdGFyU2VsZWN0b3IiLCJfYWJvdXQiLCJfYXZhdGFyIiwiX3VzZXIiLCJhYm91dCIsIkFwaSIsImJhc2VVcmwiLCJoZWFkZXJzIiwicmVzIiwib2siLCJqc29uIiwiUHJvbWlzZSIsInJlamVjdCIsInN0YXR1cyIsImZldGNoIiwidGhlbiIsIl9jaGVja1JlcyIsInVzZXJOYW1lIiwibWV0aG9kIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJhdmF0YXIiLCJjYXJkTmFtZSIsImNhcmRJZCIsIlBvcHVwV2l0aENvbmZpcm0iLCJidXR0b24iLCJfdGFyZ2V0IiwiY3VycmVudENhcmQiLCJhcGkiLCJhdXRob3JpemF0aW9uIiwidXNlciIsInJlbmRlckxvYWRQcm9ncmVzcyIsImJ1dHRvblNlbGVjdG9yIiwiaXNMb2FkaW5nIiwicmVuZGVyU3Bpbm5lciIsInNwaW5uZXJTZWxlY3RvciIsInNwaW5uZXIiLCJyZW5kZXJDb250ZW50IiwiY29udGVudFNlbGVjdG9yIiwiY2FyZExpc3QiLCJjYXJkRWxlbWVudCIsImNyZWF0ZUNhcmQiLCJhZGRJdGVtIiwiYWxsIiwiZ2V0VXNlckRhdGEiLCJnZXRDYXJkcyIsInVzZXJEYXRhIiwiY2FyZERhdGEiLCJzZXRVc2VySW5mbyIsInNldFVzZXJBdmF0YXIiLCJyZW5kZXJJdGVtcyIsImNhdGNoIiwiZXJyIiwiY29uc29sZSIsImxvZyIsImZpbmFsbHkiLCJjb25maXJtUG9wdXAiLCJwcmV2ZW50RGVmYXVsdCIsImRlbGV0ZUNhcmQiLCJwb3B1cFBob3RvIiwib3BlbiIsImRlbGV0ZUxpa2UiLCJyZW1vdmVMaWtlIiwicmVuZXdMaWtlQ291bnRlciIsInB1dExpa2UiLCJzZXRJZCIsInNldEV2ZW50TGlzdGVuZXJzIiwicG9wdXBFZGl0Rm9ybSIsIm5ld1VzZXJJbmZvIiwicG9wdXBfdGl0bGUiLCJwb3B1cF9zdXRpdGxlIiwicG9zdFVzZXJEYXRhIiwiY29uc3RhbnRzIiwiZ2V0VXNlckluZm8iLCJwb3B1cEFkZEZvcm0iLCJuZXdDYXJkRGF0YSIsInBvc3RDYXJkIiwibmV3Q2FyZCIsInJlbmRlck5ld0VsZW1lbnQiLCJhZGRGb3JtVmFsaWRhdG9yIiwicmVzZXRWYWxpZGF0aW9uIiwiZWRpdEF2YXRhclBvcHVwIiwibmV3QXZhdGFyIiwiaW5wdXRBdmF0YXJMaW5rIiwicG9zdFVzZXJQaG90byIsImVkaXRBdmF0YXJWYWxpZGF0b3IiLCJlbmFibGVWYWxpZGF0aW9uIl0sInNvdXJjZVJvb3QiOiIifQ==